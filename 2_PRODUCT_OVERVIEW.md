# 2. Огляд продукту

Український книжковий ринок демонструє ознаки відновлення та зростання, особливо в сегменті електронної комерції, що робить запуск цифрового сервісу перспективним.

## 2.1 Позиціонування продукту

"Плай" — це новий, самостійний онлайн-сервіс, орієнтований на український ринок. Він створюється як новий продукт, а не заміна існуючої системи, і є частиною ширшої екосистеми електронної комерції.

Продукт складається з трьох основних компонентів: клієнтський UI, бекенд-API та інтерфейс адміністрування.

Система матиме ключові залежності від зовнішніх сервісів, з якими вона інтегрується через API, але не розробляє їх з нуля (як зазначено в Розділі 1.2):

1. Платіжні шлюзи: (наприклад, LiqPay, Stripe, WayForPay) для обробки онлайн-платежів.

2. Логістичні оператори: (наприклад, Нова Пошта, Укрпошта) для розрахунку вартості, оформлення та відстеження доставки друкованих книг.

## 2.2 Функціональні вимоги до продукту

Прочитайте про функції продукту в [функціональних вимогах](https://github.com/iamvladshevchuk/singularitarians/blob/main/4_FUNCTIONAL_REQUIREMENTS.md) цього документу.

## 2.3 Обмеження продукту

* Система повинна використовувати сторонні, сертифіковані платіжні шлюзи для всіх фінансових транзакцій. Розробка власного платіжного сервісу з нуля виключена.
* Система не повинна займатися фізичною логістикою (складування, пакування, відправка). Її відповідальність обмежується генерацією замовлення та обміном даними з логістичним партнером.
* Система повинна відповідати вимогам Закону України "Про захист персональних даних" при обробці та зберіганні інформації користувачів.
* Бекенд-API повинен бути розроблений з урахуванням можливості підключення майбутніх клієнтських застосунків (наприклад, мобільних додатків).

## 2.4 Характеристики користувачів

Прочитайте про користувачів в категорії "[Персони](https://github.com/iamvladshevchuk/singularitarians/blob/main/6_PERSONAS.md)" цього документу.

## 2.5 Припущення та залежності

Припущення:

* Припускається, що користувачі мають стабільний доступ до Інтернету та використовують сучасні веб-браузери.
* Припускається, що видавці та постачальники надаватимуть метадані та файли книг у форматах, придатних для імпорту в систему.

Залежності:

* Критична залежність від стабільності та доступності API сторонніх платіжних систем. Збій у їхній роботі безпосередньо блокує основну функцію продукту (оплату).
* Критична залежність від API логістичних операторів. Збій унеможливить розрахунок вартості доставки та оформлення відправлень.
* Залежність від своєчасного оновлення каталогів від видавництв для підтримки актуальності пропозицій.

## 2.6 Розподіл вимог серед компонентів

Вимоги, описані в цьому SRS, будуть розподілені між трьома основними компонентами, визначеними в Розділі 1.2:

* Клієнтський UI (Веб): Реалізує всі функціональні вимоги, пов'язані з взаємодією кінцевого користувача (пошук, кошик, особистий кабінет, UI платіжної форми).
* Бекенд (API): Реалізує всю бізнес-логіку, керування даними, безпеку та інтеграцію з зовнішніми сервісами (платежі, логістика).
* Система адміністрування: Реалізує вимоги до керування каталогом, замовленнями та користувачами.

## 2.7 Ключові сценарії використання

Для основних [Персон](https://github.com/iamvladshevchuk/singularitarians/blob/main/6_PERSONAS.md) вказуємо такі основні сценарії використання:

### Сценарії Клієнта:

```mermaid
sequenceDiagram
    title UC-01: Пошук та перегляд книги
    actor Клієнт
    participant Веб_UI as Веб UI
    participant API as Бекенд API

    Клієнт->>Веб_UI: Використати рядок пошуку або навігацію по каталогу
    Клієнт->>Веб_UI: Застосувати фільтри (жанр, ціна, автор)
    Веб_UI->>API: Запит результатів пошуку/каталогу з фільтрами
    API-->>Веб_UI: Повернути результати
    Клієнт->>Веб_UI: Відкрити сторінку детального опису книги
    Веб_UI->>API: Запит деталей книги
    API-->>Веб_UI: Повернути детальний опис книги
    Веб_UI-->>Клієнт: Показати сторінку книги

```

```mermaid
sequenceDiagram
    title UC-02: Оформлення замовлення (Checkout)
    actor Клієнт
    participant Веб_UI as Веб UI
    participant API as Бекенд API
    participant LOG as API логістичного оператора
    participant PAY as Платіжний шлюз

    Клієнт->>Веб_UI: Перейти до кошика та ініціювати оформлення
    Клієнт->>Веб_UI: Ввести контактну інформацію та адресу доставки
    Веб_UI->>API: Передати контактні дані та адресу
    API->>LOG: Розрахувати вартість та варіанти доставки
    LOG-->>API: Повернути варіанти доставки
    API-->>Веб_UI: Надати варіанти доставки та оплати
    Клієнт->>Веб_UI: Обрати спосіб доставки та оплати
    Веб_UI->>API: Підтвердити вибір
    API->>PAY: Перенаправити на захищений інтерфейс платіжного шлюзу
    PAY-->>API: Повідомити про успішну оплату
    API-->>Веб_UI: Підтвердити замовлення клієнту
    Веб_UI-->>Клієнт: Показати підтвердження замовлення
```

```mermaid
sequenceDiagram
    title UC-03: Перегляд особистого кабінету
    actor Клієнт
    participant Веб_UI as Веб UI
    participant API as Бекенд API

    Клієнт->>Веб_UI: Увійти до профілю
    Веб_UI->>API: Запит списку минулих замовлень та їхніх статусів
    API-->>Веб_UI: Повернути список замовлень і статуси
    Веб_UI-->>Клієнт: Показати історію замовлень і статуси
    Клієнт->>Веб_UI: Редагувати контактну інформацію
    Веб_UI->>API: Передати оновлені контактні дані
    API-->>Веб_UI: Підтвердити оновлення
    Веб_UI-->>Клієнт: Показати оновлені дані
```

### Сценарії Адміністратора:

```mermaid
sequenceDiagram
    title UC-04: Керування каталогом
    actor Адміністратор
    participant Адмін_UI as Система адміністрування
    participant API as Бекенд API

    Адміністратор->>Адмін_UI: Увійти до системи адміністрування
    Адміністратор->>Адмін_UI: Додати нову позицію книги
    Адмін_UI->>API: Передати дані нової книги
    API-->>Адмін_UI: Підтвердити додавання

    Адміністратор->>Адмін_UI: Редагувати існуючу книгу (ціни, описи, обкладинки)
    Адмін_UI->>API: Передати зміни книги
    API-->>Адмін_UI: Підтвердити редагування

    Адміністратор->>Адмін_UI: Деактивувати книгу, якої немає в наявності
    Адмін_UI->>API: Запит деактивації
    API-->>Адмін_UI: Підтвердити деактивацію
```

```mermaid
sequenceDiagram
    title UC-05: Обробка замовлень
    actor Адміністратор
    participant Адмін_UI as Система адміністрування
    participant API as Бекенд API
    participant LOG as API логістичного оператора

    Адміністратор->>Адмін_UI: Переглянути список нових, оплачених замовлень
    Адмін_UI->>API: Отримати оплачені замовлення
    API-->>Адмін_UI: Повернути список оплачених замовлень

    Адміністратор->>Адмін_UI: Змінити статус замовлення на «Комплектується»
    Адмін_UI->>API: Передати зміну статусу
    API-->>Адмін_UI: Підтвердити зміну статусу

    Адміністратор->>Адмін_UI: Згенерувати транспортну накладну для відправки
    Адмін_UI->>API: Ініціювати генерацію накладної
    API->>LOG: Запит на створення транспортної накладної
    LOG-->>API: Дані накладної
    API-->>Адмін_UI: Підтвердити створення накладної

```
